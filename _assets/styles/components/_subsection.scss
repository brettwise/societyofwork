$homepage-breakpoint: 1250px;

@include breakpoint(1249px down) {
  .main-section {
    @include grid-col-row;
    text-align: center;
  }
  
  .subsection {
    @include grid-col-row;
  }
}

@include breakpoint($homepage-breakpoint) {
  
  .main-section {
    @include grid-col(2);
  }
  
  .homepage-main {
    padding-top: 6rem;
  }
  
  .subsection {
    
    @include grid-row();
    @include grid-col-off(2);
    margin-bottom: 1rem;
    
    &__ {
      
      &link {
        
        &:hover .subsection__content {
          
          &:before {
            width: 100%;
          }
        }
        
        &:hover .shadow {
          &:after {
            box-shadow: 0 9px 80px rgba(0,0,0, 25%);
          }
        }
      }
      
      &content {
        background-color: $white;
        padding: 15px 30px !important;
        position: relative;
        
        &:before {
          content: '';
          position: absolute;
          bottom: 0;
          left: 0;
          width: 0%;
          border-bottom: 6px solid $red;
          transition: 0.3s;
        }  
      }
      
      &two-thirds {
        &--left {
          .subsection__ {
            
            &content { 
              
              @include grid-col(5);
              @include grid-col-pos(-8);
              margin-bottom: 15px;
            }
            
            &img { 
              margin-top: -40px;
              @include grid-col(9);
              @include grid-col-pos(5);
            }
          }
        }
        
        &--right {
          .subsection__ {
            &img {
              @include grid-col(9);
            }
            
            &content {
              @include grid-col(5);
              margin-left: -50px;
            }
          }
          
        }
      }
      
      &bottom-right {
        
        .subsection__ {
          
          &img {
            @include grid-col(14);
          }
          
          &content {
            @include grid-col(12);
            @include grid-col-off(2);
            margin-top: -70px;
            margin-bottom: 15px;
            padding: 15px 77px 15px 30px !important;
          }
        }
      }
    }
  }
}

@include breakpoint($homepage-breakpoint) {
  
  .shadow {
    position: relative;
    
    &:after {
      content: " ";
      position: absolute;
      height: 50px;
      z-index: -10;
      bottom: 12px;
      left: 8%;
      width: 85%;
      height: 50px;
      transition: 0.3s;
      box-shadow: 0 2px 50px rgba(0,0,0, 25%);
    }
  }
  
}